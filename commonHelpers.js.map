{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default class pixabayApi {\n  BASE_URL = 'https://pixabay.com/api/';\n  constructor(apiKey) {\n    this.apiKey = apiKey;\n  }\n  getImageList(query) {\n    const searchParams = new URLSearchParams({\n      key: this.apiKey,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    });\n    return fetch(`${this.BASE_URL}?${searchParams}`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function getHtmlImageList(imgList) {\n  if (imgList.length <= 0) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      progressBar: false,\n      transitionIn: 'fadeIn',\n      position: 'topRight',\n    });\n    return 'no images found';\n  } else {\n    const htmlImagesList = imgList\n      .map(\n        image =>\n          `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n              <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360\" height=\"200\">\n            </a>\n            <ul class=\"gallery-item-desc\">\n              <li class=\"gallery-item-desc-item\"><span class=\"gallery-item-desc-cap\">Likes</span><span>${image.likes}</span></li>\n              <li class=\"gallery-item-desc-item\"><span class=\"gallery-item-desc-cap\">Views</span><span>${image.views}</span></li>\n              <li class=\"gallery-item-desc-item\"><span class=\"gallery-item-desc-cap\">Comments</span><span>${image.comments}</span></li>\n              <li class=\"gallery-item-desc-item\"><span class=\"gallery-item-desc-cap\">Downloads</span><span>${image.downloads}</span></li>\n            </ul>\n          </li>`\n      )\n      .join('');\n    return htmlImagesList;\n  }\n}\nexport function renderGallery(htmlImageList, galleryList) {\n  galleryList.innerHTML = `${htmlImageList}`;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport pixabayApi from './js/pixabay-api';\nimport { renderGallery, getHtmlImageList } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst galleryList = document.querySelector('.gallery-list');\nconst queryToSearch = document.querySelector('.search-form-input');\nconst submitQuery = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst API_KEY = '42291404-11497e3de12ce0a674f69f05b';\n\nconst pixabay = new pixabayApi(API_KEY);\nconst gallery = new SimpleLightbox('.gallery-list a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nsubmitQuery.addEventListener('submit', e => {\n  e.preventDefault();\n  galleryList.innerHTML = '';\n  const query = queryToSearch.value;\n  if (isValidQuery(query)) {\n    isLoaderVisible(loader, true);\n    pixabay\n      .getImageList(query)\n      .then(imagesList => getHtmlImageList(imagesList.hits))\n      .then(htmlImageList => renderGallery(htmlImageList, galleryList))\n      .then(() => {\n        isLoaderVisible(loader, false);\n        gallery.refresh();\n      });\n  } else {\n    iziToast.error({\n      message: 'Search field is empty',\n      progressBar: false,\n      transitionIn: 'fadeIn',\n      position: 'topRight',\n    });\n  }\n});\n\nfunction isValidQuery(queryToSearch) {\n  if (queryToSearch.trim() === '') {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nfunction isLoaderVisible(loader, isVisible = false) {\n  if (isVisible) {\n    loader.classList.remove('hidden');\n  } else {\n    loader.classList.add('hidden');\n  }\n}\n"],"names":["pixabayApi","apiKey","__publicField","query","searchParams","response","error","getHtmlImageList","imgList","iziToast","image","renderGallery","htmlImageList","galleryList","queryToSearch","submitQuery","loader","API_KEY","pixabay","gallery","SimpleLightbox","e","isValidQuery","isLoaderVisible","imagesList","isVisible"],"mappings":"q6BAAe,MAAMA,CAAW,CAE9B,YAAYC,EAAQ,CADpBC,EAAA,gBAAW,4BAET,KAAK,OAASD,CACf,CACD,aAAaE,EAAO,CAClB,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,KAAK,OACV,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EACD,OAAO,MAAM,GAAG,KAAK,QAAQ,IAAIC,CAAY,EAAE,EAC5C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,CACJ,CACH,CCrBO,SAASC,EAAiBC,EAAS,CACxC,OAAIA,EAAQ,QAAU,GACpBC,EAAS,MAAM,CACb,QACE,2EACF,YAAa,GACb,aAAc,SACd,SAAU,UAChB,CAAK,EACM,mBAEgBD,EACpB,IACCE,GACE;AAAA,4CACkCA,EAAM,aAAa;AAAA,0BACrCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,yGAGyCA,EAAM,KAAK;AAAA,yGACXA,EAAM,KAAK;AAAA,4GACRA,EAAM,QAAQ;AAAA,6GACbA,EAAM,SAAS;AAAA;AAAA,gBAGrH,EACA,KAAK,EAAE,CAGd,CACO,SAASC,EAAcC,EAAeC,EAAa,CACxDA,EAAY,UAAY,GAAGD,CAAa,EAC1C,CC3BA,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,qCAEVC,EAAU,IAAIlB,EAAWiB,CAAO,EAChCE,EAAU,IAAIC,EAAe,kBAAmB,CACpD,aAAc,IACd,aAAc,KAChB,CAAC,EAEDL,EAAY,iBAAiB,SAAUM,GAAK,CAC1CA,EAAE,eAAc,EAChBR,EAAY,UAAY,GACxB,MAAMV,EAAQW,EAAc,MACxBQ,EAAanB,CAAK,GACpBoB,EAAgBP,EAAQ,EAAI,EAC5BE,EACG,aAAaf,CAAK,EAClB,KAAKqB,GAAcjB,EAAiBiB,EAAW,IAAI,CAAC,EACpD,KAAKZ,GAAiBD,EAAcC,EAAeC,CAAW,CAAC,EAC/D,KAAK,IAAM,CACVU,EAAgBP,EAAQ,EAAK,EAC7BG,EAAQ,QAAO,CACvB,CAAO,GAEHV,EAAS,MAAM,CACb,QAAS,wBACT,YAAa,GACb,aAAc,SACd,SAAU,UAChB,CAAK,CAEL,CAAC,EAED,SAASa,EAAaR,EAAe,CACnC,OAAIA,EAAc,KAAM,IAAK,EAK/B,CAEA,SAASS,EAAgBP,EAAQS,EAAY,GAAO,CAC9CA,EACFT,EAAO,UAAU,OAAO,QAAQ,EAEhCA,EAAO,UAAU,IAAI,QAAQ,CAEjC"}